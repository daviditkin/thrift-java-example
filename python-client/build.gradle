// Need to make sure thrift project configures first so that we can configure sourceSets
evaluationDependsOn(':thrift')

def libDir = file("${buildDir}/install/lib")
def genDir = file(project(":thrift").ext.thriftGenPython)

println "genDir is ${genDir}"
println "libDir is ${libDir}"
println "the src dir is ${projectDir}/src"
println "the install dir is ${buildDir}/install"
task installDist(dependsOn: ':thrift:compileThrift')<<  {
	mkdir("${buildDir}/install")
	copy {
		from genDir.path
		into libDir.path
	}
	copy {
		from "${projectDir}/src"
		into "${buildDir}/install"
	}
}

